# SF-AdTech

### О проекте
Веб-приложение для рекламодателей и вебмастеров по размещению рекламы.
Присутствует drag'n'drop офферов (заказов) по статусам (активный-неактивный для рекламодателей и подписанный-доступынй для вебмастеров).

#### Вебмастеры могут:
- Зарегистрироваться в системе;
- Авторизоваться в системе;
- Посмотреть список offer-ов, на которые он подписан;
- Подписаться на новый offer:
    - Указать стоимость перехода;
    - Получить ссылку системы;
- Отписаться от offer-а;
- Посмотреть доходы и кол-во переходов по offer-у в разрезах:
    - День;
    - Месяц;
    - Год.

#### Рекламодатели могут:
- Зарегистрироваться в системе;
- Авторизоваться в системе;
- Посмотреть список созданных им offer-ов;
- Увидеть кол-во веб-мастеров, подписанных на каждый из offer-ов;
- Создать новый offer:
    - Указать имя offer-а;
    - Указать стоимость перехода;
    - Указать целевой URL;
    - Определить темы сайта;
- Деактивировать offer;
- Посмотреть расходы и кол-во переходов по offer-у в разрезах:
    - день;
    - месяц;
    - год.

### Админская часть
- Умение авторизовывать на работу новых рекламодателей и веб-мастеров;
- Умение отключать их;
- Контроль общего дохода системы;
- Вывод статистики по:
    - выданным ссылкам;
    - переходам;
    - отказам

### Система умеет:
- Получать информацию о ссылке, по которой кликнул клиент в момент перехода с сайта веб-мастера;
- Зафиксировать в логах факт перехода;
- Проверить, что веб-мастер подписан на offer, к которому привязана ссылка:
    - Если веб-мастер не подписан на offer, то скидывать на 404;
- Преобразовать клик-ссылку в целевой URL;
- Перенаправить клиента на целевой URL;
- Зафиксировать факт перенаправления.

### Система редиректов

Когда вебмастер подписывается на оффер, который создал рекламодеталь, то получает
специальную ссылку для редиректа на url заказа. Если оффер является неактивным и клиент перешел по реферальной ссылке, то получит 404. Так же, если вебмастер указал неверную реферальную ссылку, которой нет в таблице с подписанными заказами, то так же пользователь получит 404 вместо редиректа, и так же запишется ошибка редиректа при такой случае.


### API документация

Offers
(для рекламодателей)
```
    post - 'offers/create' - создать новый заказ
    patch - 'offers/edit/{id?}' - изменить заказ
    delete - 'offers/{id?}' - удалить заказ
```

Offer Subscription
(для вебмастеров)
```
    post - 'offers/subscriptions' - создать подписку на заказ
    delete - 'offers/subscriptions/{id?}' - удалить подписку на заказ
```

(для всех)
```
    get - 'offers/subscriptions/{id?}/statistics' - получить стистику по подписке на заказ
```

(для админов)
```
    patch - '/users/{id?}' - изменить пользователя
```

